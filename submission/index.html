
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../install/">
      
      
        <link rel="next" href="../power/">
      
      
      <link rel="icon" href="../img/logo_v2.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Submission Generation - MLPerf Inference Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#get-results-folder-structure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MLPerf Inference Documentation" class="md-header__button md-logo" aria-label="MLPerf Inference Documentation" data-md-component="logo">
      
  <img src="../img/logo_v2.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MLPerf Inference Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Submission Generation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mlcommons/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../install/" class="md-tabs__link">
          
  
  
    
  
  Install MLCFlow

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Submission

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../power/" class="md-tabs__link">
          
  
  
    
  
  Power

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../changelog/" class="md-tabs__link">
          
  
  
    
  
  Release Notes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MLPerf Inference Documentation" class="md-nav__button md-logo" aria-label="MLPerf Inference Documentation" data-md-component="logo">
      
  <img src="../img/logo_v2.svg" alt="logo">

    </a>
    MLPerf Inference Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mlcommons/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href=".." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../install/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Install MLCFlow
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    Submission
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Submission
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../power/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Power
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../changelog/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#get-results-folder-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Get results folder structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-submission-folder" class="md-nav__link">
    <span class="md-ellipsis">
      Generate submission folder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generate submission folder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-to-generate-submission-folder" class="md-nav__link">
    <span class="md-ellipsis">
      Command to generate submission folder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-the-final-submission" class="md-nav__link">
    <span class="md-ellipsis">
      Upload the final submission
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


  <h1>Submission Generation</h1>

<p>Click <a href="https://docs.google.com/presentation/d/1cmbpZUpVr78EIrhzyMBnnWnjJrD-mZ2vmSb-yETkTA8/edit?usp=sharing">here</a> to view the proposal slide for Common Automation for MLPerf Inference Submission Generation through MLCFlow.</p>
<p>Please refer to the <a href="/inference/install/">installation page</a> to install MLCFlow for automating the submission generation. In a typical development environment <code>pip install mlc-scripts</code> should be enough.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Custom automation based MLPerf results</label><label for="__tabbed_1_2">MLC automation based results</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>If you have not followed the <code>mlcr</code> commands under the individual model pages in the <a href="../">benchmarks</a> directory, please make sure that the result directory is structured in the following way. You can see the real examples for the expected folder structure <a href="https://github.com/mlcommons/inference/tree/submission-generation-examples">here</a>.
<div class="highlight"><pre><span></span><code>└── System description ID(SUT Name)
    ├── system_meta.json
    └── Benchmark
        └── Scenario
            ├── Performance
            |   └── run_1 run for all scenarios
            |       ├── mlperf_log_summary.txt
            |       └── mlperf_log_detail.txt
            ├── Accuracy
            |   ├── mlperf_log_summary.txt
            |   ├── mlperf_log_detail.txt
            |   ├── mlperf_log_accuracy.json
            |   └── accuracy.txt
            |── Compliance_Test_ID
            |   ├── Performance
            |   |   └── run_x/#1 run for all scenarios
            |   |       ├── mlperf_log_summary.txt
            |   |       └── mlperf_log_detail.txt
            |   ├── Accuracy # for TEST01 only
            |   |   ├── baseline_accuracy.txt (if test fails in deterministic mode)
            |   |   ├── compliance_accuracy.txt (if test fails in deterministic mode)
            |   |   ├── mlperf_log_accuracy.json
            |   |   └── accuracy.txt
            |   ├── verify_performance.txt
            |   └── verify_accuracy.txt # for TEST01 only
            |── user.conf
            └── measurements.json
</code></pre></div></p>
<p><details>
<summary>Click here if you are submitting in open division</summary></p>
<ul>
<li>The <code>model_mapping.json</code> should be included inside the SUT folder which is used to map the custom model full name to the official model name. The format of json file is:</li>
</ul>
<p><div class="highlight"><pre><span></span><code>    {
        &quot;custom_model_name_for_model1&quot;:&quot;official_model_name_for_model1&quot;,
        &quot;custom_model_name_for_model2&quot;:&quot;official_model_name_for_model2&quot;,

    }
</code></pre></div>
</details></p>
</div>
<div class="tabbed-block">
<p>If you have followed the <code>mlcr</code> commands under the individual model pages in the <a href="../">benchmarks</a> directory, all the valid results will get aggregated to the <code>mlc cache</code> folder. The following command could be used to browse the structure of inference results folder generated by MLCFlow.</p>
<h3 id="get-results-folder-structure">Get results folder structure</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Unix Terminal</label><label for="__tabbed_2_2">Windows PowerShell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>mlc<span class="w"> </span>find<span class="w"> </span>cache<span class="w"> </span>--tags<span class="o">=</span>get,mlperf,inference,results,dir<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>tree
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>mlc find cache --tags=get,mlperf,inference,results,dir |  ForEach-Object { Get-ChildItem -Recurse $_ }
</code></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Once all the results across all the models are ready you can use the following the below section to generate a valid submission tree compliant with the <a href="https://github.com/mlcommons/policies/blob/master/submission_rules.adoc#inference-1">MLPerf requirements</a>.</p>
<h2 id="generate-submission-folder">Generate submission folder</h2>
<p>The submission generation flow is explained in the below diagram</p>
<pre class="mermaid"><code>flowchart LR
    subgraph Generation [Submission Generation SUT1]
      direction TB
      A[populate system details] --&gt; B[generate submission structure]
      B --&gt; C[truncate-accuracy-logs]
      C --&gt; D{Infer low latency results &lt;br&gt;and/or&lt;br&gt; filter out invalid results}
      D --&gt; yes --&gt; E[preprocess-mlperf-inference-submission]
      D --&gt; no --&gt; F[run-mlperf-inference-submission-checker]
      E --&gt; F
    end
    Input((Results SUT1)) --&gt; Generation
    Generation --&gt; Output((Submission Folder &lt;br&gt; SUT1))</code></pre>
<h3 id="command-to-generate-submission-folder">Command to generate submission folder</h3>
<div class="highlight"><pre><span></span><code>mlcr<span class="w"> </span>generate,inference,submission<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--clean<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--preprocess_submission<span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--run_checker<span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--submitter<span class="o">=</span>MLCommons<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--division<span class="o">=</span>closed<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--env.MLC_DETERMINE_MEMORY_CONFIGURATION<span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--quiet
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>
<p>Use <code>--hw_name="My system name"</code> to give a meaningful system name. Examples can be seen <a href="https://github.com/mlcommons/inference_results_v3.0/tree/main/open/cTuning/systems">here</a></p>
</li>
<li>
<p>Use <code>--submitter=&lt;Your name&gt;</code> if your organization is an official MLCommons member and would like to submit under your organization</p>
</li>
<li>
<p>Use <code>--hw_notes_extra</code> option to add additional notes like <code>--hw_notes_extra="Result taken by NAME"</code></p>
</li>
<li>
<p>Use <code>--results_dir</code> option to specify the results folder.  It is automatically taken from MLC cache for MLPerf automation based runs</p>
</li>
<li>
<p>Use <code>--submission_dir</code> option to specify the submission folder. (You can avoid this if you're pushing to github or only running a single SUT and MLC will use its cache folder)</p>
</li>
<li>
<p>Use <code>--division=open</code> for open division submission </p>
</li>
<li>
<p>Use <code>--category</code> option to specify the category for which submission is generated(datacenter/edge). By default, the category is taken from <code>system_meta.json</code> file located in the SUT root directory.</p>
</li>
<li>
<p>Use <code>--submission_base_dir</code> to specify the directory to which the outputs from preprocess submission script and final submission is added. No need to provide <code>--submission_dir</code> along with this. For <code>docker run</code>, use <code>--submission_base_dir</code> instead of <code>--submission_dir</code>.</p>
</li>
</ul>
</div>
<p>If there are multiple systems where MLPerf results are collected, the same process needs to be repeated on each of them. One we have submission folders on all the SUTs, we need to sync them to make a single submission folder</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Sync Locally</label><label for="__tabbed_3_2">Sync via a Github repo</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>If you are having results in multiple systems, you need to merge them to one system. You can use <code>rsync</code> for this. For example, the below command will sync the submission folder from SUT2 to the one in SUT1. 
<div class="highlight"><pre><span></span><code>rsync -avz username@host1:&lt;path_to_submission_folder2&gt;/ &lt;path_to_submission_folder1&gt;/
</code></pre></div>
Same needs to be repeated for all other SUTs so that we have the full submissions in SUT1.</p>
<pre class="mermaid"><code>    flowchart LR
        subgraph SUT1 [Submission Generation SUT1]
          A[Submission Folder SUT1]
        end
        subgraph SUT2 [Submission Generation SUT2]
          B[Submission Folder SUT2]
        end
        subgraph SUT3 [Submission Generation SUT3]
          C[Submission Folder SUT3]
        end
        subgraph SUTN [Submission Generation SUTN]
          D[Submission Folder SUTN]
        end
        SUT2 --&gt; SUT1
        SUT3 --&gt; SUT1
        SUTN --&gt; SUT1
</code></pre>
</div>
<div class="tabbed-block">
<p>If you are collecting results across multiple systems you can generate different submissions and aggregate all of them to a GitHub repository (can be private) and use it to generate a single tar ball which can be uploaded to the <a href="https://submissions-ui.mlcommons.org/submission">MLCommons Submission UI</a>. </p>
<p>Run the following command after <strong>replacing <code>--repo_url</code> with your GitHub repository URL</strong>.</p>
<div class="highlight"><pre><span></span><code>mlcr<span class="w"> </span>push,github,mlperf,inference,submission<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--repo_url<span class="o">=</span>https://github.com/mlcommons/mlperf_inference_submissions_v5.0<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--commit_message<span class="o">=</span><span class="s2">&quot;Results on &lt;HW name&gt; added by &lt;Name&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--quiet
</code></pre></div>
<pre class="mermaid"><code>    flowchart LR
        subgraph SUT1 [Submission Generation SUT1]
          A[Submission Folder SUT1]
        end
        subgraph SUT2 [Submission Generation SUT2]
          B[Submission Folder SUT2]
        end
        subgraph SUT3 [Submission Generation SUT3]
          C[Submission Folder SUT3]
        end
        subgraph SUTN [Submission Generation SUTN]
          D[Submission Folder SUTN]
        end
    SUT2 -- git sync and push --&gt; G[Github Repo]
    SUT3 -- git sync and push --&gt; G[Github Repo]
    SUTN -- git sync and push --&gt; G[Github Repo]
    SUT1 -- git sync and push --&gt; G[Github Repo]
</code></pre>
</div>
</div>
</div>
<h2 id="upload-the-final-submission">Upload the final submission</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are using GitHub for consolidating your results, make sure that you have run the <a href="#__tabbed_2_2"><code>push-to-github</code> command</a> on the same system to ensure results are synced as is on the GitHub repository.</p>
</div>
<p>Once you have all the results on the system, you can upload them to the MLCommons submission server as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">via CLI</label><label for="__tabbed_4_2">via Browser</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>You can do the following command which will run the submission checker and upload the results to the MLCommons submission server
<div class="highlight"><pre><span></span><code>mlcr run,mlperf,submission,checker,inference \
--submitter_id=&lt;&gt; \
--submission_dir=&lt;Path to the submission folder&gt;
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p>You can do the following command to generate the final submission tar file and then upload to the <a href="https://submissions-ui.mlcommons.org/submission">MLCommons Submission UI</a>. 
<div class="highlight"><pre><span></span><code>mlcr run,mlperf,submission,checker,inference \
--submission_dir=&lt;Path to the submission folder&gt; \
--tar=yes \
--submission_tar_file=mysubmission.tar.gz
</code></pre></div></p>
</div>
</div>
</div>
<pre class="mermaid"><code>        flowchart LR
            subgraph SUT [Combined Submissions]
              A[Combined Submission Folder in SUT1]
            end
        SUT --&gt; B[Run submission checker]
        B --&gt; C[Upload to MLC Submission server]
        C --&gt; D[Receive validation email]</code></pre>
<!--Click [here](https://youtu.be/eI1Hoecc3ho) to view the recording of the workshop: Streamlining your MLPerf Inference results using CM.-->







  
  




  



                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.copy", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.instant", "navigation.tabs", "navigation.path", "navigation.tabs.sticky", "navigation.top", "navigation.prune", "toc.follow"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>